# SELECT语句

SQL语句是由简单的英语单词构成的。这些单词称 为关键字，每个SQL语句都是由一个或多个关键字构成的。大概，最经常使用的SQL语句就是SELECT语句了。它的用途是从一个或多个表中检索 信息。 

为了使用SELECT检索表数据，必须至少给出两条信息——想选择什 么，以及从什么地方选择。

## 需要注意的几个点：

- **结束SQL语句** ==多条SQL语句必须以分号（；）分隔==。MySQL 如同多数DBMS一样，不需要在单条SQL语句后加分号。但特 定的DBMS可能必须在单条SQL语句后加上分号。当然，如果 愿意可以总是加上分号。事实上，即使不一定需要，但加上 分号肯定没有坏处。如果你使用的是mysql命令行，必须加上 分号来结束SQL语句。
- **SQL语句和大小写** 请注意，==SQL语句不区分大小写==，因此 SELECT与select是相同的。同样，写成Select也没有关系。 许多SQL开发人员喜欢对所有SQL关键字使用大写，而对所有列和表名使用小写，这样做使代码更易于阅读和调试。
- **使用空格** 在处理SQL语句时，其中所有空格都被忽略。SQL 语句可以在一行上给出，也可以分成许多行。多数SQL开发人 员认为将SQL语句分成多行更容易阅读和调试。
- **数据表示** SQL语句一般返回原始的、 无格式的数据。**数据的格式化是一个表示问题，而不是一个检索问题**。因此，表示（对齐和显示上面的价格值，用货币 符号和逗号表示其金额）一般在显示该数据的应用程序中规 定。一般很少使用实际检索出的原始数据（没有应用程序提供的格式）



# 检索单个列

<img src="E:\Code\GitHubProject\MySQL\assets\image-20230628153734767.png" alt="image-20230628153734767" style="zoom:67%;" />

# 检索多个列

使用相同的SELECT语句。唯一的不同 是必须在SELECT关键字后给出多个列名，列名之间必须以逗号分隔。最后一个列名后面不加逗号，加了会报错

<img src="E:\Code\GitHubProject\MySQL\assets\image-20230628155112715.png" alt="image-20230628155112715" style="zoom:67%;" />

# 检索所有列

这可以通过在实际列名的位置使 用星号（*）通配符来达到

![image-20230628155355417](E:\Code\GitHubProject\MySQL\assets\image-20230628155355417.png)

- **使用通配符** 一般，除非你确实需要表中的每个列，否则最 好别使用*通配符。虽然使用通配符可能会使你自己省事，不用明确列出所需列，但检索不需要的列通常会降低检索和应用程序的性能。
- **检索未知列** 使用通配符有一个大优点。由于不明确指定列名（因为星号检索每个列），所以能检索出名字未知的列。

#  检索不同的行

<img src="E:\Code\GitHubProject\MySQL\assets\image-20230628160207426.png" alt="image-20230628160207426" style="zoom:67%;" />

**不能部分使用DISTINCT** DISTINCT关键字应用于所有列而不仅是前置它的列。如果给出SELECT DISTINCT vend_id,  prod_price，除非指定的两个列都不同，否则所有行都将被检索出来。

# 限制结果

<img src="E:\Code\GitHubProject\MySQL\assets\image-20230628160612417.png" alt="image-20230628160612417" style="zoom: 67%;" />

<img src="E:\Code\GitHubProject\MySQL\assets\image-20230628160711078.png" alt="image-20230628160711078" style="zoom: 67%;" />

# 使用完全限定的表名

<img src="E:\Code\GitHubProject\MySQL\assets\image-20230628160958554.png" alt="image-20230628160958554" style="zoom:67%;" />

# 排序数据

使用SQL语句返回某个数据库的单个列，输出中并没有特定的顺序。其实检索出的数据并不是以纯粹的随机顺序显示的。如果不排序，数据一般将以它在底层中表现的顺序显示。这可以时数据最初添加到表中的顺序。但是，如果数据后来进行过更新或删除，则此顺序将会受到MySQL重用回收存储空间的影响。因此，如果不明确控制的话，不能（也不应该）依赖该排序顺序。关系数据库设计理论认为，如果不明确规定排序顺序，则不应该假定检索出的数据的顺序有意义。

**子句**：SQL语句由子句构成，有些子句是必需的，而有的是可选的。一个子句通常由一个关键字和所提供的数据组成。子句的例子有SELECT语句的FROM子句。

为了明确地排序用SELECT语句检索出的数据，可使用`ORDER BY`子句。 `ORDER BY`子句取一个或多个列的名字，据此对输出进行排序。请看下面 的例子：

<img src="E:\Code\GitHubProject\MySQL\assets\image-20230630142726008.png" alt="image-20230630142726008" style="zoom:67%;" />

**通过非选择列进行排序** 通常，ORDER BY子句中使用的列将是为显示所选择的列。但是，实际上并不一定要这样，用非检索的列排序数据是完全合法的

# 按多个列排序

只要指定列名，列名之间用逗号分开即可（就像选择多个列的时候那样）

排序顺序是按输入的列名顺序。

<img src="E:\Code\GitHubProject\MySQL\assets\image-20230630143337969.png" alt="image-20230630143337969" style="zoom:67%;" />

在按多个列排序时，排序完全按所规定的顺序进行。 换句话说，对于上述例子中的输出，仅在多个行具有相同的prod_price 值时才对产品按prod_name进行排序。如果prod_price列中所有的值都是唯一的，则不会按prod_name排序。

# 指定排序方向

排序默认的是升序排序（从A到Z），还可以使用指定DESC关键字来实现降序排序。

<img src="E:\Code\GitHubProject\MySQL\assets\image-20230630143844630.png" alt="image-20230630143844630" style="zoom:67%;" />

如果要对价格最贵的在前面，然后同价格的安名称降序排序的化就需要

<img src="E:\Code\GitHubProject\MySQL\assets\image-20230630144018309.png" alt="image-20230630144018309" style="zoom:67%;" />

DESC关键字只应用到直接位于其前面的列名。所以==如果想在多个列上进行降序排序，必须对每个列指定DESC关键字==。

<img src="E:\Code\GitHubProject\MySQL\assets\image-20230630144424543.png" alt="image-20230630144424543" style="zoom:67%;" />

**ORDER BY子句的位置**： 在给出ORDER BY子句时，应该==保证它位于FROM子句之后==。==如果使用LIMIT，它必须位于ORDER BY之后==。使用子句的次序不对将产生错误消息。